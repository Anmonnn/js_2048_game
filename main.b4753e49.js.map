{"version":3,"sources":["scripts/main.js"],"names":["start","document","querySelector","cells","querySelectorAll","messageStart","messageWin","messageLose","scoreBoard","score","arrayCells","cellToRemove","randomizer","min","max","Math","floor","random","addRandomValues","value1","row","length","col","position","textContent","classList","add","cleaner","forEach","cell","Name","remove","refresh","i","arrayClassCells","j","value","addEventListener","contains","victory","defeat","canMove","moveUp","merger","undefined","moveDown","moveRight","moveLeft","move","arrayCellsOld","JSON","parse","stringify","key"],"mappings":"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","file":"main.b4753e49.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst start = document.querySelector('.start');\nconst cells = document.querySelectorAll('.field-cell');\nconst messageStart = document.querySelector('.message-start');\nconst messageWin = document.querySelector('.message-win');\nconst messageLose = document.querySelector('.message-lose');\nconst scoreBoard = document.querySelector('.game-score');\nlet score = 0;\n\nlet arrayCells = [\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n];\n\nconst cellToRemove = [\n  'field-cell--2',\n  'field-cell--4',\n  'field-cell--8',\n  'field-cell--16',\n  'field-cell--32',\n  'field-cell--64',\n  'field-cell--128',\n  'field-cell--256',\n  'field-cell--512',\n  'field-cell--1024',\n  'field-cell--2048',\n];\n\nstart.addEventListener('click', function() {\n  if (this.classList.contains('start')) {\n    this.textContent = 'Restart';\n\n    this.classList.remove('start');\n    this.classList.add('restart');\n    messageStart.classList.add('hidden');\n\n    addRandomValues();\n    addRandomValues();\n  } else {\n    this.textContent = 'Start';\n\n    this.classList.remove('restart');\n    this.classList.add('start');\n    messageWin.classList.add('hidden');\n    messageLose.classList.add('hidden');\n    messageStart.classList.remove('hidden');\n\n    cleaner();\n  }\n});\n\nfunction randomizer(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction addRandomValues() {\n  const value1 = randomizer(0, cells.length - 1);\n  const value2 = randomizer(0, cells.length - 1);\n\n  const row = value1 % 4;\n  const col = value2 % 4;\n\n  const position = col * 4 + row;\n\n  if (arrayCells[col][row] === 0) {\n    if (randomizer(1, 10) === 10) {\n      cells[position].textContent = '4';\n      cells[position].classList.add('field-cell--4');\n      arrayCells[col][row] = 4;\n    } else {\n      cells[position].textContent = '2';\n      cells[position].classList.add('field-cell--2');\n      arrayCells[col][row] = 2;\n    }\n  } else {\n    addRandomValues();\n  }\n}\n\nfunction cleaner() {\n  cells.forEach(cell => {\n    cell.textContent = '';\n\n    cellToRemove.forEach(Name => {\n      cell.classList.remove(Name);\n    });\n  });\n\n  arrayCells = [\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ];\n\n  score = 0;\n  scoreBoard.textContent = `${score}`;\n}\n\nfunction refresh() {\n  for (let i = 0; i < arrayClassCells.length; i++) {\n    for (let j = 0; j < arrayClassCells[i].length; j++) {\n      arrayClassCells[i][j] = `field-cell--${arrayCells[i][j]}`;\n\n      const value = i * 4 + j;\n\n      cellToRemove.forEach(Name => {\n        cells[value].classList.remove(Name);\n      });\n      cells[value].textContent = ``;\n\n      if (arrayCells[i][j] !== 0) {\n        cells[value].classList.add(arrayClassCells[i][j]);\n        cells[value].textContent = `${arrayCells[i][j]}`;\n      }\n\n      if (arrayCells[i][j] === 0) {\n        cellToRemove.forEach(Name => {\n          cells[value].classList.remove(Name);\n        });\n        cells[value].textContent = ``;\n      }\n    }\n  }\n}\n\nconst arrayClassCells = [\n  [\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n  ],\n  [\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n  ],\n  [\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n  ],\n  [\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n    `field-cell--${0}`,\n  ],\n];\n\nfunction victory() {\n  for (let i = 0; i < arrayCells.length; i++) {\n    for (let j = 0; j < arrayCells[i].length; j++) {\n      if (arrayCells[i][j] === 2048) {\n        messageWin.classList.remove('hidden');\n      }\n    }\n  }\n}\n\nfunction defeat() {\n  let canMove = false;\n\n  for (let i = 0; i < arrayCells.length; i++) {\n    for (let j = 0; j < arrayCells[i].length; j++) {\n      if (\n        arrayCells[i][j] === arrayCells[i][j + 1]\n        || arrayCells[i][j] === arrayCells[i][j - 1]\n        || arrayCells[i][j - 1] === 0\n        || arrayCells[i][j + 1] === 0\n      ) {\n        canMove = true;\n      }\n    }\n  }\n\n  for (let j = 0; j < arrayCells[0].length; j++) {\n    for (let i = 0; i < arrayCells.length; i++) {\n      if (\n        (i < 3 && arrayCells[i][j] === arrayCells[i + 1][j])\n        || (i > 0 && arrayCells[i][j] === arrayCells[i - 1][j])\n        || (i > 0 && arrayCells[i - 1][j] === 0)\n        || (i < 3 && arrayCells[i + 1][j] === 0)\n      ) {\n        canMove = true;\n      }\n    }\n  }\n\n  if (!canMove) {\n    messageLose.classList.remove('hidden');\n  }\n}\n\ndocument.addEventListener('keydown', function(move) {\n  if (\n    start.classList.contains('restart')\n    && messageWin.classList.contains('hidden')\n    && messageLose.classList.contains('hidden')\n  ) {\n    const arrayCellsOld = JSON.parse(JSON.stringify(arrayCells));\n    let canMove = false;\n\n    if (move.key === 'ArrowUp') {\n      moveUp();\n      refresh();\n    }\n\n    if (move.key === 'ArrowDown') {\n      moveDown();\n      refresh();\n    }\n\n    if (move.key === 'ArrowRight') {\n      moveRight();\n      refresh();\n    }\n\n    if (move.key === 'ArrowLeft') {\n      moveLeft();\n      refresh();\n    }\n\n    victory();\n    defeat();\n\n    for (let i = 0; i < arrayCells.length; i++) {\n      for (let j = 0; j < arrayCells[i].length; j++) {\n        if (arrayCells[i][j] !== arrayCellsOld[i][j]) {\n          canMove = true;\n        }\n      }\n    }\n\n    if (canMove) {\n      addRandomValues();\n    }\n\n    scoreBoard.textContent = `${score}`;\n  }\n});\n\nfunction moveUp() {\n  for (let j = 3; j >= 0; j--) {\n    const merger = [true, true, true, true];\n\n    for (let i = 3; i >= 0; i--) {\n      if (\n        i === 3\n        && arrayCells[i][j] !== 0\n        && arrayCells[i - 1][j] === 0\n        && arrayCells[i - 2][j] !== 0\n        && arrayCells[i - 3][j] === 0\n      ) {\n        arrayCells[i - 3][j] = arrayCells[i - 2][j];\n        arrayCells[i - 2][j] = arrayCells[i][j];\n        arrayCells[i - 1][j] = 0;\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        i === 3\n        && arrayCells[i][j] !== 0\n        && arrayCells[i - 1][j] !== 0\n        && arrayCells[i - 2][j] !== 0\n        && arrayCells[i - 3][j] === 0\n      ) {\n        arrayCells[i - 3][j] = arrayCells[i - 2][j];\n        arrayCells[i - 2][j] = arrayCells[i - 1][j];\n        arrayCells[i - 1][j] = arrayCells[i][j];\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        i >= 2\n        && arrayCells[i - 2][j] === 0\n        && arrayCells[i - 1][j] !== 0\n        && arrayCells[i][j] !== 0\n        && arrayCells[i][j] !== arrayCells[i - 1][j]\n      ) {\n        arrayCells[i - 2][j] = arrayCells[i - 1][j];\n        arrayCells[i - 1][j] = arrayCells[i][j];\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        i < 3\n        && arrayCells[i + 1][j] !== undefined\n        && arrayCells[i + 1][j] !== 0\n        && arrayCells[i][j] === 0\n      ) {\n        arrayCells[i][j] = arrayCells[i + 1][j];\n        arrayCells[i + 1][j] = 0;\n        continue;\n      }\n\n      if (\n        i < 3\n        && arrayCells[i + 1][j] !== undefined\n        && arrayCells[i + 1][j] !== 0\n        && arrayCells[i][j] === arrayCells[i + 1][j]\n        && merger[i] === true\n        && merger[i + 1] === true\n      ) {\n        arrayCells[i][j] += arrayCells[i][j];\n        arrayCells[i + 1][j] = 0;\n        merger[i] = false;\n        score += arrayCells[i][j];\n        continue;\n      }\n    }\n\n    for (let i = 3; i >= 0; i--) {\n      if (\n        i < 3\n        && arrayCells[i + 1][j] !== undefined\n        && arrayCells[i + 1][j] !== 0\n        && arrayCells[i][j] === 0\n      ) {\n        arrayCells[i][j] = arrayCells[i + 1][j];\n        arrayCells[i + 1][j] = 0;\n        continue;\n      }\n    }\n  }\n}\n\nfunction moveDown() {\n  for (let j = 0; j < arrayCells[0].length; j++) {\n    const merger = [true, true, true, true];\n\n    for (let i = 0; i < arrayCells.length; i++) {\n      if (\n        i === 0\n        && arrayCells[i][j] !== 0\n        && arrayCells[i + 1][j] === 0\n        && arrayCells[i + 2][j] !== 0\n        && arrayCells[i + 3][j] === 0\n      ) {\n        arrayCells[i + 3][j] = arrayCells[i + 2][j];\n        arrayCells[i + 2][j] = arrayCells[i][j];\n        arrayCells[i + 1][j] = 0;\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        i === 0\n        && arrayCells[i][j] !== 0\n        && arrayCells[i + 1][j] !== 0\n        && arrayCells[i + 2][j] !== 0\n        && arrayCells[i + 3][j] === 0\n      ) {\n        arrayCells[i + 3][j] = arrayCells[i + 2][j];\n        arrayCells[i + 2][j] = arrayCells[i + 1][j];\n        arrayCells[i + 1][j] = arrayCells[i][j];\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        i < 2\n        && arrayCells[i][j] !== 0\n        && arrayCells[i + 1][j] !== 0\n        && arrayCells[i + 2][j] === 0\n        && arrayCells[i][j] !== arrayCells[i + 1][j]\n      ) {\n        arrayCells[i + 2][j] = arrayCells[i + 1][j];\n        arrayCells[i + 1][j] = arrayCells[i][j];\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        i > 0\n        && arrayCells[i][j] === 0\n        && arrayCells[i - 1][j] !== 0\n        && arrayCells[i - 1][j] !== undefined\n      ) {\n        arrayCells[i][j] = arrayCells[i - 1][j];\n        arrayCells[i - 1][j] = 0;\n        continue;\n      }\n\n      if (\n        i > 0\n        && arrayCells[i - 1][j] !== 0\n        && arrayCells[i][j] === arrayCells[i - 1][j]\n        && arrayCells[i - 1][j] !== undefined\n        && merger[i] === true\n        && merger[i - 1] === true\n      ) {\n        arrayCells[i][j] += arrayCells[i][j];\n        arrayCells[i - 1][j] = 0;\n        merger[i] = false;\n        score += arrayCells[i][j];\n        continue;\n      }\n    }\n\n    for (let i = 0; i < arrayCells.length; i++) {\n      if (\n        i > 0\n        && arrayCells[i][j] === 0\n        && arrayCells[i - 1][j] !== 0\n        && arrayCells[i - 1][j] !== undefined\n      ) {\n        arrayCells[i][j] = arrayCells[i - 1][j];\n        arrayCells[i - 1][j] = 0;\n        continue;\n      }\n    }\n  }\n}\n\nfunction moveRight() {\n  for (let i = 0; i < arrayCells.length; i++) {\n    const merger = [true, true, true, true];\n\n    for (let j = 0; j < arrayCells[i].length; j++) {\n      if (\n        arrayCells[i][j + 1] !== 0\n        && arrayCells[i][j + 2] !== 0\n        && arrayCells[i][j] !== 0\n        && arrayCells[i][j + 3] === 0\n      ) {\n        arrayCells[i][j + 3] = arrayCells[i][j + 2];\n        arrayCells[i][j + 2] = arrayCells[i][j + 1];\n        arrayCells[i][j + 1] = arrayCells[i][j];\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        arrayCells[i][j - 1] !== 0\n        && arrayCells[i][j - 1] !== undefined\n        && arrayCells[i][j] !== arrayCells[i][j - 1]\n        && arrayCells[i][j] !== 0\n        && arrayCells[i][j + 1] === 0\n      ) {\n        arrayCells[i][j + 1] = arrayCells[i][j];\n        arrayCells[i][j] = arrayCells[i][j - 1];\n        arrayCells[i][j - 1] = 0;\n        continue;\n      }\n\n      if (\n        arrayCells[i][j] === 0\n        && arrayCells[i][j - 1] !== 0\n        && arrayCells[i][j - 1] !== undefined\n      ) {\n        arrayCells[i][j] = arrayCells[i][j - 1];\n        arrayCells[i][j - 1] = 0;\n        continue;\n      }\n\n      if (\n        arrayCells[i][j - 1] !== 0\n        && arrayCells[i][j] === arrayCells[i][j - 1]\n        && arrayCells[i][j - 1] !== undefined\n        && merger[j] === true\n        && merger[j - 1] === true\n      ) {\n        arrayCells[i][j] += arrayCells[i][j];\n        arrayCells[i][j - 1] = 0;\n        merger[j] = false;\n        score += arrayCells[i][j];\n        continue;\n      }\n    }\n\n    for (let j = 0; j < arrayCells[i].length; j++) {\n      if (\n        arrayCells[i][j] === 0\n        && arrayCells[i][j - 1] !== 0\n        && arrayCells[i][j - 1] !== undefined\n      ) {\n        arrayCells[i][j] = arrayCells[i][j - 1];\n        arrayCells[i][j - 1] = 0;\n        continue;\n      }\n    }\n  }\n};\n\nfunction moveLeft() {\n  for (let i = arrayCells.length - 1; i >= 0; i--) {\n    const merger = [true, true, true, true];\n\n    for (let j = arrayCells[i].length - 1; j >= 0; j--) {\n      if (\n        arrayCells[i][j - 1] !== 0\n        && arrayCells[i][j - 2] !== 0\n        && arrayCells[i][j] !== 0\n        && arrayCells[i][j - 3] === 0\n      ) {\n        arrayCells[i][j - 3] = arrayCells[i][j - 2];\n        arrayCells[i][j - 2] = arrayCells[i][j - 1];\n        arrayCells[i][j - 1] = arrayCells[i][j];\n        arrayCells[i][j] = 0;\n        continue;\n      }\n\n      if (\n        arrayCells[i][j + 1] !== 0\n        && arrayCells[i][j + 1] !== undefined\n        && arrayCells[i][j] !== arrayCells[i][j - 1]\n        && arrayCells[i][j] !== 0\n        && arrayCells[i][j - 1] === 0\n      ) {\n        arrayCells[i][j - 1] = arrayCells[i][j];\n        arrayCells[i][j] = arrayCells[i][j + 1];\n        arrayCells[i][j + 1] = 0;\n        continue;\n      }\n\n      if (\n        arrayCells[i][j] === 0\n        && arrayCells[i][j + 1] !== 0\n        && arrayCells[i][j + 1] !== undefined\n      ) {\n        arrayCells[i][j] = arrayCells[i][j + 1];\n        arrayCells[i][j + 1] = 0;\n        continue;\n      }\n\n      if (\n        arrayCells[i][j + 1] !== 0\n        && arrayCells[i][j] === arrayCells[i][j + 1]\n        && arrayCells[i][j + 1] !== undefined\n        && merger[j] === true\n        && merger[j + 1] === true\n      ) {\n        arrayCells[i][j] += arrayCells[i][j];\n        arrayCells[i][j + 1] = 0;\n        merger[j] = false;\n        score += arrayCells[i][j];\n        continue;\n      }\n    }\n\n    for (let j = arrayCells[i].length - 1; j >= 0; j--) {\n      if (\n        arrayCells[i][j] === 0\n        && arrayCells[i][j + 1] !== 0\n        && arrayCells[i][j + 1] !== undefined\n      ) {\n        arrayCells[i][j] = arrayCells[i][j + 1];\n        arrayCells[i][j + 1] = 0;\n        continue;\n      }\n    }\n  }\n}\n"]}