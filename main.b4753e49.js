parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"6KIz":[function(require,module,exports) {
"use strict";var e=document.querySelector(".start"),t=document.querySelectorAll(".field-cell"),l=document.querySelector(".message-start"),c=document.querySelector(".message-win"),n=document.querySelector(".message-lose"),o=document.querySelector(".game-score"),i=0,r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],a=["field-cell--2","field-cell--4","field-cell--8","field-cell--16","field-cell--32","field-cell--64","field-cell--128","field-cell--256","field-cell--512","field-cell--1024","field-cell--2048"];function s(e,t){return Math.floor(Math.random()*(t-e+1))+e}function d(){var e=s(0,t.length-1)%4,l=s(0,t.length-1)%4,c=4*l+e;0===r[l][e]?10===s(1,10)?(t[c].textContent="4",t[c].classList.add("field-cell--4"),r[l][e]=4):(t[c].textContent="2",t[c].classList.add("field-cell--2"),r[l][e]=2):d()}function f(){t.forEach(function(e){e.textContent="",a.forEach(function(t){e.classList.remove(t)})}),r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=0,o.textContent="".concat(i)}function v(){for(var e=0;e<h.length;e++)for(var l=function(){h[e][c]="field-cell--".concat(r[e][c]);var l=4*e+c;a.forEach(function(e){t[l].classList.remove(e)}),t[l].textContent="",0!==r[e][c]&&(t[l].classList.add(h[e][c]),t[l].textContent="".concat(r[e][c])),0===r[e][c]&&(a.forEach(function(e){t[l].classList.remove(e)}),t[l].textContent="")},c=0;c<h[e].length;c++)l()}e.addEventListener("click",function(){this.classList.contains("start")?(this.textContent="Restart",this.classList.remove("start"),this.classList.add("restart"),l.classList.add("hidden"),d(),d()):(this.textContent="Start",this.classList.remove("restart"),this.classList.add("start"),c.classList.add("hidden"),n.classList.add("hidden"),l.classList.remove("hidden"),f())});var h=[["field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0)],["field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0)],["field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0)],["field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0),"field-cell--".concat(0)]];function u(){for(var e=0;e<r.length;e++)for(var t=0;t<r[e].length;t++)2048===r[e][t]&&c.classList.remove("hidden")}function g(){for(var e=!1,t=0;t<r.length;t++)for(var l=0;l<r[t].length;l++)r[t][l]!==r[t][l+1]&&r[t][l]!==r[t][l-1]&&0!==r[t][l-1]&&0!==r[t][l+1]||(e=!0);for(var c=0;c<r[0].length;c++)for(var o=0;o<r.length;o++)(o<3&&r[o][c]===r[o+1][c]||o>0&&r[o][c]===r[o-1][c]||o>0&&0===r[o-1][c]||o<3&&0===r[o+1][c])&&(e=!0);e||n.classList.remove("hidden")}function L(){for(var e=3;e>=0;e--){for(var t=[!0,!0,!0,!0],l=3;l>=0;l--)3!==l||0===r[l][e]||0!==r[l-1][e]||0===r[l-2][e]||0!==r[l-3][e]?3!==l||0===r[l][e]||0===r[l-1][e]||0===r[l-2][e]||0!==r[l-3][e]?l>=2&&0===r[l-2][e]&&0!==r[l-1][e]&&0!==r[l][e]&&r[l][e]!==r[l-1][e]?(r[l-2][e]=r[l-1][e],r[l-1][e]=r[l][e],r[l][e]=0):l<3&&void 0!==r[l+1][e]&&0!==r[l+1][e]&&0===r[l][e]?(r[l][e]=r[l+1][e],r[l+1][e]=0):l<3&&void 0!==r[l+1][e]&&0!==r[l+1][e]&&r[l][e]===r[l+1][e]&&!0===t[l]&&!0===t[l+1]&&(r[l][e]+=r[l][e],r[l+1][e]=0,t[l]=!1,i+=r[l][e]):(r[l-3][e]=r[l-2][e],r[l-2][e]=r[l-1][e],r[l-1][e]=r[l][e],r[l][e]=0):(r[l-3][e]=r[l-2][e],r[l-2][e]=r[l][e],r[l-1][e]=0,r[l][e]=0);for(var c=3;c>=0;c--)c<3&&void 0!==r[c+1][e]&&0!==r[c+1][e]&&0===r[c][e]&&(r[c][e]=r[c+1][e],r[c+1][e]=0)}}function m(){for(var e=0;e<r[0].length;e++){for(var t=[!0,!0,!0,!0],l=0;l<r.length;l++)0!==l||0===r[l][e]||0!==r[l+1][e]||0===r[l+2][e]||0!==r[l+3][e]?0!==l||0===r[l][e]||0===r[l+1][e]||0===r[l+2][e]||0!==r[l+3][e]?l<2&&0!==r[l][e]&&0!==r[l+1][e]&&0===r[l+2][e]&&r[l][e]!==r[l+1][e]?(r[l+2][e]=r[l+1][e],r[l+1][e]=r[l][e],r[l][e]=0):l>0&&0===r[l][e]&&0!==r[l-1][e]&&void 0!==r[l-1][e]?(r[l][e]=r[l-1][e],r[l-1][e]=0):l>0&&0!==r[l-1][e]&&r[l][e]===r[l-1][e]&&void 0!==r[l-1][e]&&!0===t[l]&&!0===t[l-1]&&(r[l][e]+=r[l][e],r[l-1][e]=0,t[l]=!1,i+=r[l][e]):(r[l+3][e]=r[l+2][e],r[l+2][e]=r[l+1][e],r[l+1][e]=r[l][e],r[l][e]=0):(r[l+3][e]=r[l+2][e],r[l+2][e]=r[l][e],r[l+1][e]=0,r[l][e]=0);for(var c=0;c<r.length;c++)c>0&&0===r[c][e]&&0!==r[c-1][e]&&void 0!==r[c-1][e]&&(r[c][e]=r[c-1][e],r[c-1][e]=0)}}function y(){for(var e=0;e<r.length;e++){for(var t=[!0,!0,!0,!0],l=0;l<r[e].length;l++)0===r[e][l+1]||0===r[e][l+2]||0===r[e][l]||0!==r[e][l+3]?0===r[e][l-1]||void 0===r[e][l-1]||r[e][l]===r[e][l-1]||0===r[e][l]||0!==r[e][l+1]?0!==r[e][l]||0===r[e][l-1]||void 0===r[e][l-1]?0===r[e][l-1]||r[e][l]!==r[e][l-1]||void 0===r[e][l-1]||!0!==t[l]||!0!==t[l-1]||(r[e][l]+=r[e][l],r[e][l-1]=0,t[l]=!1,i+=r[e][l]):(r[e][l]=r[e][l-1],r[e][l-1]=0):(r[e][l+1]=r[e][l],r[e][l]=r[e][l-1],r[e][l-1]=0):(r[e][l+3]=r[e][l+2],r[e][l+2]=r[e][l+1],r[e][l+1]=r[e][l],r[e][l]=0);for(var c=0;c<r[e].length;c++)0!==r[e][c]||0===r[e][c-1]||void 0===r[e][c-1]||(r[e][c]=r[e][c-1],r[e][c-1]=0)}}function x(){for(var e=r.length-1;e>=0;e--){for(var t=[!0,!0,!0,!0],l=r[e].length-1;l>=0;l--)0===r[e][l-1]||0===r[e][l-2]||0===r[e][l]||0!==r[e][l-3]?0===r[e][l+1]||void 0===r[e][l+1]||r[e][l]===r[e][l-1]||0===r[e][l]||0!==r[e][l-1]?0!==r[e][l]||0===r[e][l+1]||void 0===r[e][l+1]?0===r[e][l+1]||r[e][l]!==r[e][l+1]||void 0===r[e][l+1]||!0!==t[l]||!0!==t[l+1]||(r[e][l]+=r[e][l],r[e][l+1]=0,t[l]=!1,i+=r[e][l]):(r[e][l]=r[e][l+1],r[e][l+1]=0):(r[e][l-1]=r[e][l],r[e][l]=r[e][l+1],r[e][l+1]=0):(r[e][l-3]=r[e][l-2],r[e][l-2]=r[e][l-1],r[e][l-1]=r[e][l],r[e][l]=0);for(var c=r[e].length-1;c>=0;c--)0!==r[e][c]||0===r[e][c+1]||void 0===r[e][c+1]||(r[e][c]=r[e][c+1],r[e][c+1]=0)}}document.addEventListener("keydown",function(t){if(e.classList.contains("restart")&&c.classList.contains("hidden")&&n.classList.contains("hidden")){var l=JSON.parse(JSON.stringify(r)),a=!1;"ArrowUp"===t.key&&(L(),v()),"ArrowDown"===t.key&&(m(),v()),"ArrowRight"===t.key&&(y(),v()),"ArrowLeft"===t.key&&(x(),v()),u(),g();for(var s=0;s<r.length;s++)for(var f=0;f<r[s].length;f++)r[s][f]!==l[s][f]&&(a=!0);a&&d(),o.textContent="".concat(i)}});
},{}]},{},["6KIz"], null)
//# sourceMappingURL=main.b4753e49.js.map